-- // Konfigurasi
local REQUIRED_KEY = "berhentiberharap"
local PREMIUM_USERS = {
    ["9wenerd"] = true,
    ["6atotkaca9"] = true,
}

-- // Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

-- === Fungsi Popup Notifikasi ===
local function showPopup(msg, color)
    local gui = Instance.new("ScreenGui")
    gui.Parent = game.CoreGui
    gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    local text = Instance.new("TextLabel", gui)
    text.Size = UDim2.new(0, 400, 0, 50)
    text.Position = UDim2.new(0.5, 0, 0.1, 0)
    text.AnchorPoint = Vector2.new(0.5, 0)
    text.BackgroundTransparency = 0.3
    text.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    text.Text = msg
    text.Font = Enum.Font.GothamBold
    text.TextSize = 20
    text.TextColor3 = color
    Instance.new("UICorner", text).CornerRadius = UDim.new(0, 8)

    text.TextTransparency = 1
    TweenService:Create(text, TweenInfo.new(0.5), {TextTransparency = 0}):Play()

    task.delay(3, function()
        TweenService:Create(text, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
        task.wait(0.6)
        gui:Destroy()
    end)
end

-- === GUI Utama (sama kaya sebelumnya, aku singkat biar fokus ke verifyKey) ===
-- NOTE: taruh semua elemen GUI kamu (MainFrame, KeyBox, tombol, dll) di sini
-- supaya tampilannya tetap sama dengan versi sebelumnya.

-- Dummy GUI contoh (biar gampang test):
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 300, 0, 150)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
MainFrame.BackgroundColor3 = Color3.fromRGB(30,30,40)
local KeyBox = Instance.new("TextBox", MainFrame)
KeyBox.Size = UDim2.new(1, -20, 0, 30)
KeyBox.Position = UDim2.new(0, 10, 0, 20)
KeyBox.PlaceholderText = "Masukkan Key"
local SubmitBtn = Instance.new("TextButton", MainFrame)
SubmitBtn.Size = UDim2.new(1, -20, 0, 30)
SubmitBtn.Position = UDim2.new(0, 10, 0, 60)
SubmitBtn.Text = "UNLOCK"

-- === Fungsi Verifikasi ===
local function verifyKey()
    if KeyBox.Text == REQUIRED_KEY then
        local currentPlaceId = game.PlaceId
        local isPremium = PREMIUM_USERS[LocalPlayer.Name]

        if currentPlaceId == 128473079243102 and not isPremium then
            showPopup("❌ Kamu bukan premium, script tidak bisa dijalankan", Color3.fromRGB(255,80,80))
            return
        end

        if isPremium then
            showPopup("✅ Welcome Premium", Color3.fromRGB(0,255,100))
        else
            showPopup("✅ Key benar", Color3.fromRGB(0,200,255))
        end

        -- Mapping script game
        local placeScripts = {
            [128473079243102] = "https://raw.githubusercontent.com/aditpacked/ohmyveet/refs/heads/main/M0UNT/MT%20ARUNIKA%20128473079243102.txt",
            [120818739452640] = "https://raw.githubusercontent.com/aditpacked/ohmyveet/refs/heads/main/M0UNT/MT%20CKPTW%20120818739452640.txt",
        }

        if placeScripts[currentPlaceId] then
            local scriptUrl = placeScripts[currentPlaceId]
            local ok, err = pcall(function()
                return loadstring(game:HttpGet(scriptUrl))()
            end)
            if not ok then
                showPopup("❌ Gagal load script", Color3.fromRGB(255,80,80))
            end
        else
            showPopup("⚠️ Tidak ada script untuk game ini", Color3.fromRGB(255,200,0))
        end
    else
        KeyBox.Text = ""
        KeyBox.PlaceholderText = "❌ Key salah!"
    end
end

SubmitBtn.MouseButton1Click:Connect(verifyKey)