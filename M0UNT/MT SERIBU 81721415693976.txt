local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

local targetCFrame = CFrame.new(
    -3011.00073, 1736.96326, 385.561218,
    -1.28746033e-05, 0.273069024, -0.96199441,
    1, 1.29938126e-05, -9.80496407e-06,
    9.80496407e-06, -0.96199441, -0.273068905
)

local resetEvent = ReplicatedStorage:WaitForChild("ResetPlayerEvent", 5)
local isRunning = false

-- Fungsi teleport + reset
local function teleportAndReset()
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")
    hrp.CFrame = targetCFrame
    task.wait(1)
    if resetEvent then
        resetEvent:FireServer()
    end
    task.wait(1)
end

-- Loop utama
task.spawn(function()
    while task.wait() do
        if isRunning then
            teleportAndReset()
        end
    end
end)

-- Anti-collide + anti-seat
RunService.Stepped:Connect(function()
    if not isRunning then return end
    local char = LocalPlayer.Character
    if char then
        for _, part in ipairs(char:GetDescendants()) do
            if part:IsA("BasePart") and part.CanCollide then
                part.CanCollide = false
            end
        end
        local hum = char:FindFirstChildOfClass("Humanoid")
        if hum and hum.Sit then
            hum.Sit = false
        end
    end
    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("Seat") or obj:IsA("VehicleSeat") then
            obj.Disabled = true
        end
    end
end)

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AutoTPBasecampGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game.CoreGui

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 160, 0, 60)
Frame.Position = UDim2.new(0.5, -80, 0.1, 0)
Frame.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
Frame.Active = true
Frame.Draggable = true
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 10)

local ToggleButton = Instance.new("TextButton", Frame)
ToggleButton.Size = UDim2.new(1, -20, 1, -20)
ToggleButton.Position = UDim2.new(0, 10, 0, 10)
ToggleButton.Text = "ENABLE"
ToggleButton.TextColor3 = Color3.fromRGB(0, 255, 0)
ToggleButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.TextScaled = true
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(0, 8)

local Watermark = Instance.new("TextLabel", ScreenGui)
Watermark.Size = UDim2.new(1, 0, 0, 100)
Watermark.Position = UDim2.new(0.5, 0, 0.5, -50)
Watermark.AnchorPoint = Vector2.new(0.5, 0.5)
Watermark.Text = "CREATED BY\n- VEET -"
Watermark.Font = Enum.Font.GothamBlack
Watermark.TextScaled = true
Watermark.TextColor3 = Color3.fromRGB(255, 255, 255)
Watermark.BackgroundTransparency = 1
Watermark.Visible = false

local stroke = Instance.new("UIStroke")
stroke.Parent = Watermark
stroke.Thickness = 2
stroke.Color = Color3.fromRGB(0, 0, 0)
stroke.Transparency = 0.2

-- Event tombol
ToggleButton.MouseButton1Click:Connect(function()
    isRunning = not isRunning
    if isRunning then
        ToggleButton.Text = "DISABLE"
        ToggleButton.TextColor3 = Color3.fromRGB(255, 0, 0)
        ToggleButton.BackgroundColor3 = Color3.fromRGB(20, 80, 20)
        Watermark.Visible = true
    else
        ToggleButton.Text = "ENABLE"
        ToggleButton.TextColor3 = Color3.fromRGB(0, 255, 0)
        ToggleButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        Watermark.Visible = false
    end
end)